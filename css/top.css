/* ===================================== */
/* TOPページ */
/* ===================================== */

.main__btn {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  background: transparent;
  border: 1px solid #fff;
  color: #fff;
  writing-mode: vertical-rl;
  padding: 4em 0.8em;
  text-decoration: none;
  transition: all 0.3s ease;
  font-size: 20px;
}

.main__btn:hover {
  background-color: rgba(0, 0, 0, 0.3);
}

.main-area {
  height: 100vh;
  min-height: 600px;
  overflow: hidden;
  position: relative;
  touch-action: none;
}

.main-area__wrap {
  position: relative;
  z-index: 0;
  display: flex;
  flex-direction: column;
  transition: transform 0.2s ease;
  will-change: transform;
}

.hero {
  height: 100vh;
  min-height: 600px;
  overflow: hidden;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.hero--carlife {
  background-image: url(../images/top/kv_carlife.jpg);
}
.hero--livinglife {
  background-image: url(../images/top/kv_livinglife.jpg);
}
.hero--consulting {
  background-image: url(../images/top/kv_consulting.jpg);
}
.hero--office {
  background-image: url(../images/top/kv_office.jpg);
}
.hero--recruit {
  background-image: url(../images/top/kv_recruit.png);
}

.hero__inner {
  max-width: 1700px;
  width: 100%;
  padding: 0 80px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  padding-top: 30vh;
  padding-bottom: 100px;
  margin: 0 auto;
}

.hero__content {
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  color: #fff;
}

.hero__title {
  font-size: clamp(28px, 7.8vw, 64px);
  font-family: "Hiragino Mincho ProN", "Hiragino Mincho Pro", "MS PMincho",
    "MS Mincho", serif;
  letter-spacing: 0.1em;
  line-height: 1.5;
  margin-bottom: 40px;
}

.hero__btn {
  display: inline-flex;
  color: #fff;
  align-items: center;
  gap: 0.3em;
  text-decoration: none;
  transition: color 0.3s ease;
  position: relative;
  font-size: 26px;
}

.hero__btn::after {
  content: "";
  display: block;
  width: 1.4em;
  height: 1.4em;
  background-image: url(/images/common/arrow-icon.png);
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
}

.hero__btn::before {
  position: absolute;
  left: 0;
  content: "";
  width: 100%;
  height: 1px;
  background: #fff;
  bottom: -10px;
  transform: scale(0, 1);
  transform-origin: left top;
  transition: transform 0.3s;
}

.hero__btn:hover::before {
  transform: scale(1, 1);
}

.hero__bottom-text {
  font-size: 32px;
  letter-spacing: 0.1em;
}

/* インジケーター */
.kv-indicator {
  position: absolute;
  left: 50%;
  bottom: 20px;
  transform: translateX(-50%);
  display: flex;
  gap: 10px;
  z-index: 20;
  pointer-events: auto;
}

.kv-indicator__dot {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: #d8d8d8;
  border: none;
  padding: 0;
  cursor: pointer;
  outline: none;
}

.kv-indicator__dot.is-active {
  background: #fff;
}

/* 980px以下 */
@media screen and (max-width: 980px) {
  /* news & Topics */
  .top-news {
    flex-direction: column-reverse;
    gap: 2em;
  }

  .top-news__list,
  .top-news__right {
    flex: none;
    width: 100%;
  }
}

/* 768px以下 */
@media screen and (max-width: 768px) {
  /* kv */
  .hero__carlife {
    background-position: 70% center;
  }
  .hero__btn {
    font-size: 16px;
  }

  .hero__inner {
    padding: 200px 20px 100px;
  }
  .hero__bottom-text {
    font-size: 16px;
  }

  /* 事業内容 */
  .panel {
    padding: 0 20px;
  }

  .panel__wrap {
    flex-direction: column;
    gap: 1.5em;
  }

  /* 採用情報 */
  .recruit__inner {
    background-position: 20% center;
  }
  .recruit__inner {
    padding: 100px 20px;
  }

  /* News & Topics */
  .top-news__item,
  .top-news__list {
    padding-left: 0;
  }

  /* ボタン */
  .top-button {
    font-size: 16px;
  }
}

/* アニメーション */

/* === 初期状態（非アクティブ時）=== */
.hero__title,
.hero__btn,
.hero__bottom-text {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.6s ease, transform 0.6s ease;
  will-change: opacity, transform;
}

/* h1 だけ少し大きめに動かす（好みで） */
.hero__title {
  transform: translateY(40px);
}

/* === アクティブ時（.hero に付く）=== */
.hero.is-active .hero__title {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.1s; /* 1段目 */
}

.hero.is-active .hero__btn {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.5s; /* 2段目 */
}

.hero.is-active .hero__bottom-text {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.8s; /* 3段目 */
}

/* heroアニメーション */

/* hero はオーバーレイを載せるため相対配置＆はみ出し隠し */
.hero {
  position: relative;
  overflow: hidden;
}

/* オーバーレイ: 初期は右側へ退避（画面外） */
.hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background: #fff;
  transform: translateX(100%); /* 右に抜けた状態=非表示 */
  pointer-events: none; /* クリック阻害しない */
  z-index: 1; /* テキストの上に被せる */
}

/* 入場：カバー状態(0%)から右へ抜ける(100%) → 背後のheroが露出 */
.hero.is-activating::before {
  animation: heroWipeEnter 0.7s ease forwards;
}

/* 退場：右から入り込み(100%→0%)で白く覆って去る（入場と逆向き）*/
.hero.is-leaving::before {
  animation: heroWipeLeave 0.7s ease forwards;
}

@keyframes heroWipeEnter {
  from {
    transform: translateX(0%);
  } /* まず全面を白で覆う */
  to {
    transform: translateX(100%);
  } /* 右へ抜けて露出 */
}
@keyframes heroWipeLeave {
  from {
    transform: translateX(100%);
  } /* 右外から入り */
  to {
    transform: translateX(0%);
  } /* 全面を白で覆う */
}

/* 既存の段階表示（そのままでOK：.hero.is-active … で発火） */
/* 初期：少しズームさせておく */
.hero {
  position: relative;
  overflow: hidden;
}
.hero__bg {
  position: absolute;
  inset: 0;
  background-image: var(--kv); /* 各 .hero--* で --kv を指定 */
  background-size: cover;
  background-position: center;
  transform: scale(1.04);
  transition: transform 0.8s ease; /* ←速度はお好みで */
  will-change: transform;
}

/* 移動開始から 0.2s 後に発火（ズームアウト開始） */
.hero.is-activating .hero__bg {
  transition-delay: 0.8s; /* ←ここで“0.2秒後に発火” */
  transform: scale(1);
}

/* 1回だけの左から流入アニメ用（既存の is-active 演出より優先） */
.hero__title.is-from-left {
  /* 既存の Y 方向トランジションと競合しないよう、アニメ中は移譲しない */
  transition: none;
  animation: heroTitleFromLeft 0.7s cubic-bezier(0.215, 0.61, 0.355, 1) both;
  /* ↑ easeOutCubic。好みで 0.6–0.8s 程度に */
}

@keyframes heroTitleFromLeft {
  from {
    transform: translate3d(-40vw, 0, 0); /* 画面左外から */
    opacity: 0;
  }
  to {
    transform: translate3d(0, 0, 0); /* 最終位置 */
    opacity: 1;
  }
}
